# BFF 架构初测


1. ```什么是BBF:```BFF，即 Backend For Frontend（服务于前端的后端）。也就是服务器设计 API 时会考虑前端的使用，并在服务端直接进行业务逻辑的处理。
2. ```BBF使用姿势:```
    1. ```多端应用:```我们在设计 API 时会考虑到不同设备的需求，也就是为不同的设备提供不同的 API，虽然它们可能是实现相同的功能，但因为不同设备的特殊性，它们对服务端的 API 访问也各有其特点，需要区别处理。
    2. ```服务聚合:```随着微服务的兴起，原本在同一个进程内运行的业务流程被拆分到了不同的服务中。这在增加业务灵活性的同时，也让前端的调用变得更复杂。BFF 的出现为前端应用提供了一个对业务服务调用的聚合点，它屏蔽了复杂的服务调用链，让前端可以聚焦在所需要的数据上，而不用关注底层提供这些数据的服务。
    3. ```非必要，莫新增:```我们在看到 BFF 带来的各种好处的同时，也要注意到它所带来的代码重复和工作量增加方面的问题。如果与已有 BFF 功能类似，且展现数据的要求也相近的话，一定要谨慎对待新增 BFF 的行为。因此，建议非必要，莫新增。
3. ```实战中的玩法:```
    1. ```访问控制:```例如，服务中的权限控制，将所有服务中的权限控制集中在 BFF 层，使下层服务更加纯粹和独立。
    2. ```应用缓存:```项目中时常存在一些需要缓存的临时数据，此时 BFF 作为业务的汇聚点，距离用户请求最近，遂将该缓存操作放在 BFF 层。
    3. ```第三方入口:```在业务中需要与第三交互时，将该交互放在 BFF 层，这样可以只暴露必要信息给第三方，从而便于控制第三方的访问。



> 一次从0开始的BFF体验

## 项目架构

1. web: React + React-router + webpack
2. server: Koa + Koa-router + gulp

